/*! plug-1.0.0.js 2018-02-03 10:11:30 */

function Prompt(e){this.config={id:"promptBox",message:"填写相关提示信息",alertClass:{success:["aTip","信息确认"],warn:["aWarn","警告"],error:["aError","错误"]},timer:!1,sec:"3",hidecancel:!1,lang:"",callback:function(){},cancel:function(){}},$.extend(this.config,e),this.ele=null}function diaPrompt(e){Prompt.call(this,e)}Prompt.prototype={_createDialog:function(e){var i=this,t="",n="",a=i.config.sec,c=i.config.timer,o="",l=UDP.Public.getmessage("prompt.btnMessage.ensureMess","确定"),s=UDP.Public.getmessage("prompt.btnMessage.canaleMess","取消"),r=UDP.Public.getmessage("prompt.alertMessage."+e);return o=this.config.hidecancel?"none":"inline-block",t='<div class="overlay_prompt"><div id="'+this.config.id+'"class="animated zoomIn"><div class="dialogHeader">'+r+'<a href="javascript:;" class="close_btn"></a></div><div class="dialogContianer '+this.config.alertClass[e][0]+'">'+this.config.message,c&&(t+='<div class="sec">( <span id="sec">'+a+"</span>s)</div>"),t+='</div><div class="dialogFooter"><input type="submit" value="'+l+'" class="btn-xs btnY" id="ensure"/><input type="submit" value="'+s+'" id="cannel" class="btn-xs btnN" style="display:'+o+';"/></div></div></div>',$("body").append(t),$("#ensure").click(function(){i.delDialog(),i.config.callback&&i.config.callback(),clearInterval(n)}),$("#cannel").click(function(){i.delDialog(),i.config.cancel&&i.config.cancel(),clearInterval(n)}),$(document).keyup(function(e){13==e.keyCode&&$("#ensure").trigger("click"),clearInterval(n)}),i.config.timer&&(n=setInterval(function(){var e=i;a--,$("#sec").html(a),0==a&&(clearInterval(n),$(".overlay_prompt").remove(),e.config.callback()&&e.config.callback.apply(this,[]))},1e3),i.config.timer=!1),$(".close_btn").click(function(){i.delDialog(),clearInterval(n)}),t},delDialog:function(e){$(".overlay_prompt").remove()}},diaPrompt.prototype=new Prompt,diaPrompt.prototype.tips=function(e){$.extend(this.config,e),this._createDialog("success")},diaPrompt.prototype.warn=function(e){$.extend(this.config,e),this._createDialog("warn")},diaPrompt.prototype.error=function(e){$.extend(this.config,e),this._createDialog("error")},function(e){e.UDP?e.UDP.Prompt=Prompt:e.UDP={Prompt:Prompt};e.UDP.Public.PlugList({fileType:"plug",filename:"prompt"})}(window);