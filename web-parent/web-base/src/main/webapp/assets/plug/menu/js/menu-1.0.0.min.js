/*! plug-1.0.0.js 2018-02-03 10:11:30 */

function MenuList(e){this.config={templateId:"",data:"",nodeList:"",eventStyle:"clickToggle"},$.extend(this.config,e)}function toggleClick(){$(".sidebar-menu a[data-type='top']").on("click",function(){$("#sidebar").toggleClass("menu-compact"),$("[data-type='menu']").next().slideUp().parents().removeClass("open")}),$(".menu-dropdown[data-type='menu']").on("click",function(e){if(!$(".sidebar-menu").hasClass("menu-compact")){e.stopPropagation(),e.preventDefault();var n=$(this).next();n.slideToggle(),$(this).parent().toggleClass("open"),$(".sidebar-menu").find(".submenu").not(n).slideUp().parent().removeClass("open"),$(".sidebar-menu").find(".menu-three").next().slideUp().parent().removeClass("open")}}),$(".submenu").find(".menu-three[data-type='menu']").on("click",function(e){if(!$(".sidebar-menu").hasClass("menu-compact")){e.stopPropagation(),e.preventDefault();var n=$(this).next();n.slideToggle(),$(this).parent().toggleClass("open"),$(this).parents(".submenu").find(".thrsubmenu").not(n).slideUp().parent().removeClass("open")}}),$(".sidebar-menu li").on("mouseenter",function(){$(".sidebar-menu").hasClass("menu-compact")&&($(this).find("menu-text").show(),$(this).children(".submenu").show())}),$(".sidebar-menu li").on("mouseleave",function(){$(".sidebar-menu").hasClass("menu-compact")&&$(this).children(".submenu").hide()}),$(".menu-three").on("mouseenter",function(){$(".sidebar-menu").hasClass("menu-compact")&&$(this).next().slideDown().parent().addClass("open")}),$(".submenu").on("mouseleave",function(){$(".sidebar-menu").hasClass("menu-compact")&&$(".menu-three").next().slideUp().parent().removeClass("open")})}MenuList.prototype={initList:function(){var e=this.config,n={};$(e.data).each(function(e,t){n[t.id]=t}),e.nodeList=[],$(e.data).each(function(t,i){var s=n[i.parentId];s&&(s.children||(s.children=[]),s.children.push(i)),1==i.levelnum&&e.nodeList.push(i)}),this.eventBind(e.eventStyle)},eventBind:function(e){var n=this.config;if("clickToggle"==e){var t=UDP.Public.template($("#listTemplate").html(),{variable:"data"})(n.nodeList);$(".sidebar-menu").append(t),toggleClick()}},addNodesData:function(e,n){var t=this.config;if(n){var i="children";n[i]||(n[i]=[]),n[i].push(e)}else t.nodeList.push(e);return t.nodeList},addMenu:function(e){var n,t=this.config;return $.each(t.nodeList,function(t,i){if(e.pId==i.id)n=i;else if(i.children)for(var s in i.children)e.pId==i.children[s].id&&(n=i.children[s]);return n}),t.nodeList=this.addNodesData(e,n),this.eventBind(t.eventStyle),t.nodeList},delNodeData:function(e){var n=this.config;for(var t in n.nodeList)if(e==n.nodeList[t].id)n.nodeList.splice(t,1);else{var i=n.nodeList[t].children;for(var s in i)if(e==i[s].id)i.splice(s,1);else{var a=i[s].children;for(var o in a)e==a[o].id&&a.splice(o,1)}}return this.eventBind(n.eventStyle),n.nodeList}};